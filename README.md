# Merge Sort: стандартный и гибридный MERGE+INSERTION

Экспериментальное исследование времени работы стандартной сортировки MERGE и гибридного алгоритма MERGE+INSERTION SORT на массивах разных типов.

## Постановка задачи

Реализованы две версии сортировки слиянием:

- стандартный рекурсивный **MERGE SORT**;
- гибридный алгоритм **MERGE+INSERTION SORT**, который для подмассивов малого размера переключается на INSERTION SORT.

Экспериментально исследуется, как меняется время работы алгоритмов в зависимости от:

- **размера массива** `n` (от 500 до 100000 с шагом 100);
- **типа входных данных**:
  - `random` — случайный массив значений в диапазоне [0, 6000];
  - `reversed` — массив, отсортированный по невозрастанию;
  - `almost` — почти отсортированный массив (отсортированный по возрастанию с небольшим числом случайных обменов);
- **параметра переключения** `threshold` в гибридном алгоритме  
  (5, 10, 20, 30, 50 элементов).

Для каждого набора параметров выполняется несколько прогонов, время усредняется и записывается в CSV.

## Структура репозитория

- `code/`
  - `Code.cpp` — генерация тестовых массивов (`ArrayGenerator`), реализация `merge_sort` и гибридного `hybrid_merge_sort`, класс `SortTester`, который проводит замеры времени и выводит результаты в формате CSV.
- `data/`
  - `sort_results.csv` — результаты экспериментов:
    - `type` — тип массива (`random`, `reversed`, `almost`);
    - `n` — размер массива;
    - `algo` — алгоритм (`merge` или `hybrid`);
    - `threshold` — порог переключения на INSERTION SORT (0 для чистого MERGE SORT);
    - `time_ms` — среднее время сортировки в миллисекундах.
- `plots/`
  - `plots.ipynb` — построение графиков времени работы стандартного MERGE SORT для трёх типов массивов и графики времени работы гибридного MERGE+INSERTION SORT при `threshold = 30` для трёх типов массивов;

## Выводы по графикам

### Стандартный MERGE SORT

- Для всех типов входных данных (`random`, `reversed`, `almost`) время работы растёт примерно как O(n · log n), что согласуется с теоретической оценкой для сортировки слиянием.
- Характер кривых для случайных, обратно отсортированных и «почти» отсортированных массивов очень похож: стандартный MERGE SORT слабо реагирует на степень упорядоченности входных данных.
- Изменения времени при увеличении `n` на 100 элементов сравнительно малы, поэтому на графиках при измерении в миллисекундах зависимость выглядит ступенчатой, но общий тренд роста хорошо прослеживается.

### Гибридный MERGE+INSERTION SORT (threshold = 30)

- При малых и средних размерах массивов гибридный алгоритм с `threshold ≈ 30` в среднем работает быстрее стандартного MERGE SORT за счёт:
  - уменьшения числа рекурсивных вызовов;
  - использования INSERTION SORT на коротких подмассивах.
- На **почти отсортированных** массивах гибридная схема даёт наиболее заметный выигрыш: вставки эффективно дорабатывают уже почти упорядоченные данные.
- На случайных массивах гибрид также показывает преимущество, но более умеренное; на обратно отсортированных массивах эффект зависит от порога и выражен слабее.
- По мере роста `n` разница между временем работы стандартного MERGE SORT и гибридного варианта с `threshold = 30` постепенно уменьшается: при больших размерах массивов кривые становятся близкими, так как асимптотика у алгоритмов одинаковая (O(n · log n)).

В целом, результаты показывают, что использование гибридного MERGE+INSERTION SORT с порогом переключения порядка нескольких десятков элементов позволяет улучшить производительность на массивах малой и средней длины без изменения асимптотической сложности по сравнению с чистым MERGE SORT.
